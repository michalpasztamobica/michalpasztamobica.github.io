
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Appendix III - Target Machine &#8212; Flang 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Error Reporting Utils" href="../flang2/error.html" />
    <link rel="prev" title="Debugging flang" href="../debugging_flang.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Flang 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Appendix III - Target Machine</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="../debugging_flang.html">Debugging flang</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../flang2/error.html">Error Reporting Utils</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="appendix-iii-target-machine">
<h1>Appendix III - Target Machine<a class="headerlink" href="#appendix-iii-target-machine" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This appendix defines the idiosyncracies of the target machine
architecture: presence of divide instructions, byte ordering, size
requirements of data types, how shifts are
done, etc.  The target machine characteristics are defined using C macros and
structures.  These are included by the compiler so that it can test for the
presence of a characteristic or determine how an action is to be performed on
the target machine for constant folding.  Those machine characteristics that
cannot be implemented with C macros are implemented in code.</p>
<p>There are two classes of macros that can be defined; characteristic macros and
action macros.  Characteristic macros are used as simple boolean flags that
indicate the presence or absence of a particular machine capability.  For
example, there would be a characteristic macro defined for the integer divide
capability.  If the target machine did not have that capability then a
characteristic macro would not be defined for that capability.</p>
<p>Action macros communicate to the compiler a value or how an operation
is to be performed for constant folding.
An example of a value is the threshold for breaking blocks.
An example of an operation is the shift operation.
The compiler needs to know what code <em>it</em> must execute when constant
folding a shift operation.</p>
<p>The following table lists the possible characteristic macros.  Those
characteristics that are present for this target machine are indicated in
the activated column.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="64%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">Characteristic Macros</th>
</tr>
<tr class="row-even"><th class="head">Macro Name</th>
<th class="head">Description</th>
<th class="head">Activated</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TM_BIG_ENDIAN</td>
<td>big endian byte order</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_UIDIV</td>
<td>unsigned integer divide instruction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_IDIV</td>
<td>integer divide instruction</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_UIMOD</td>
<td>unsigned integer mod instruction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_IMOD</td>
<td>integer mod instruction</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_IDIV2</td>
<td>divide by power of 2 instruction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_FDIV</td>
<td>single precision divide instruction</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_DDIV</td>
<td>double precision divide instruction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_FRCP</td>
<td>single precision Newton’s reciprocal</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_DRCP</td>
<td>double precision Newton’s reciprocal</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_UICMP</td>
<td>unsigned integer compare instruction</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_SQRT</td>
<td>square root instruction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_FIELD_INST</td>
<td>bit field support instructions</td>
<td>no</td>
</tr>
<tr class="row-even"><td>TM_64BIT</td>
<td>64 bit stack, pointer, long</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>TM_LPCNT</td>
<td>loop counter instruction</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_LPCMP</td>
<td>loop compare &amp; branch instructions</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_LPSIGN</td>
<td>loop counter is a signed quantity</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_REVERSE_SHIFT</td>
<td>shift of negative reverses direction</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_PREFER_SIGNED</td>
<td>signed byte/halfwd loads vs. unsigned</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_AUTOINC_IR</td>
<td>auto increment when addressing ints/pointers</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>TM_AUTOINC_FP</td>
<td>auto increment when addressing single/double</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_FCMPZ</td>
<td>single precision compare with zero</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>TM_DCMPZ</td>
<td>double precision compare with zero</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_FCJMPZ</td>
<td>single precision compare with zero and jump</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>TM_DCJMPZ</td>
<td>double precision compare with zero and jump</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>TM_REAL8</td>
<td>default real size is 8</td>
<td>no</td>
</tr>
</tbody>
</table>
<p>The list of code macros used by this compiler and machine architecture are:</p>
<ol class="arabic">
<li><p class="first">For certain targets, it’s advantageous for both compile
and execution time to limit the size of the
<code class="docutils literal notranslate"><span class="pre">ILI</span></code>
blocks produced by the front-end.
Block breaking is performed by limiting the number of consecutive
<code class="docutils literal notranslate"><span class="pre">ILM</span></code>
blocks which can be used to produce a single
<code class="docutils literal notranslate"><span class="pre">ILI</span></code>
block.
The threshold is simply the number of
<code class="docutils literal notranslate"><span class="pre">ILM</span></code>
words seen in the
<code class="docutils literal notranslate"><span class="pre">ILM</span></code>
block(s) from which the
<code class="docutils literal notranslate"><span class="pre">ILI</span></code>
were generated.
If block breaking is not needed, this value should be a large
32-bit integer where the expression value + value/2 does not
overflow.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">TM_ILM_THRESH</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">1024</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">Constant fold shift per target machine; operand which is shifted is a
signed quantity.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">LSHIFT(x,y)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(x)</span> <span class="pre">&lt;&lt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RSHIFT(x,y)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(x)</span> <span class="pre">&gt;&gt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">Constant fold shift per target machine; operand which is shifted is an
unsigned quantity.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ULSHIFT(x,y)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(x)</span> <span class="pre">&lt;&lt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">URSHIFT(x,y)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(unsigned</span> <span class="pre">int)(x)</span> <span class="pre">&gt;&gt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">Arithmetic right shift.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ARSHIFT(x,y)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">((y)&amp;31)</span> <span class="pre">==</span> <span class="pre">0</span> <span class="pre">?</span> <span class="pre">(x)</span> <span class="pre">:</span></code>
<code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(x)</span> <span class="pre">&amp;</span> <span class="pre">0x80000000</span> <span class="pre">?</span></code>
<code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">(unsigned</span> <span class="pre">int)(x)</span> <span class="pre">&gt;&gt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span> <span class="pre">|</span> <span class="pre">(</span> <span class="pre">((unsigned</span> <span class="pre">int)-1)</span> <span class="pre">&lt;&lt;</span> <span class="pre">(32-((y)&amp;31))</span> <span class="pre">)</span> <span class="pre">:</span></code>
<code class="docutils literal notranslate"><span class="pre">(x)</span> <span class="pre">&gt;&gt;</span> <span class="pre">((y)&amp;31)</span> <span class="pre">)</span> <span class="pre">)</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">Test validity of shift amount for this machine.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">SHIFTOK(x)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">((x)</span> <span class="pre">&gt;=</span> <span class="pre">0</span> <span class="pre">?</span> <span class="pre">TRUE</span> <span class="pre">:</span> <span class="pre">FALSE)</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">Correct shift count if it fails SHIFTOK.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">SHIFT_FIX(x)</span></code></dt>
<dd><p class="first last"><code class="docutils literal notranslate"><span class="pre">((x)&amp;31)</span></code></p>
</dd>
</dl>
</li>
</ol>
<p>Also, specific to a particular machine architecture is the size and alignment
requirements of the various data types in the language.  The structure
<code class="docutils literal notranslate"><span class="pre">dtypeinfo</span></code> is indexed by the data type to determine the size
and alignment requirements for that data type.</p>
<p>For code maintenance simplicity, there are
<code class="docutils literal notranslate"><span class="pre">5</span></code>
tables, one for each target machine; the actual table used at compile
time is determined by XBIT values.</p>
<p>The first table is for machine
<code class="docutils literal notranslate"><span class="pre">0</span></code>
which is the default, a x86-64 machine.</p>
<p>The data types, their sizes, and alignment requirements for this compiler and
target machine are listed in the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="31%" />
<col width="21%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="9">Data Type Information</th>
</tr>
<tr class="row-even"><th class="head">Data Type</th>
<th class="head">Size</th>
<th class="head">Align</th>
<th class="head">Bits</th>
<th class="head">Scale</th>
<th class="head">Fval</th>
<th class="head">Tname</th>
<th class="head">print name</th>
<th class="head">kind</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TY_WORD</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_DWORD</td>
<td>8</td>
<td>7</td>
<td>32</td>
<td>0</td>
<td>reg3</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_BINT</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Integer</td>
<td>byte</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SINT</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Integer</td>
<td>integer*2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_INT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Integer</td>
<td>integer</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_INT8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Integer*8</td>
<td>integer*8</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_HALF</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Half</td>
<td>real</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_REAL</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Real</td>
<td>real</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DBLE</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Double Precision Real</td>
<td>double precision</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QUAD</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>real*16</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_HCMPLX</td>
<td>4</td>
<td>1</td>
<td>32</td>
<td>0</td>
<td>reg2</td>
<td>Half Complex</td>
<td>half complex</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_CMPLX</td>
<td>8</td>
<td>3</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Complex</td>
<td>complex</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Double Precision Complex</td>
<td>double complex</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>complex*32</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_BLOG</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Logical</td>
<td>logical*1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SLOG</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Logical</td>
<td>logical*2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_LOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_LOG8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Logical*8</td>
<td>logical*8</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_CHAR</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>mem2</td>
<td>Character</td>
<td>character</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_PTR</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Address of</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_NCHAR</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>mem2</td>
<td>Kanji Character String</td>
<td>ncharacter</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_128</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>128-bit</td>
<td>128_bit</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_256</td>
<td>32</td>
<td>31</td>
<td>256</td>
<td>0</td>
<td>reg2</td>
<td>256-bit</td>
<td>256_bit</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_INT128</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Integer</td>
<td>integer(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_LOG128</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Logical</td>
<td>logical(16)</td>
<td>16</td>
</tr>
<tr class="row-even"><td>TY_FLOAT128</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>real(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_CMPLX128</td>
<td>32</td>
<td>15</td>
<td>256</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>complex(32)</td>
<td>16</td>
</tr>
</tbody>
</table>
<p>The second table is for machine
<code class="docutils literal notranslate"><span class="pre">1</span></code>
which is a T3E, byte-addressible 8-byte integer/pointer machine.</p>
<p>The data types, their sizes, and alignment requirements for this compiler and
target machine are listed in the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="6%" />
<col width="7%" />
<col width="6%" />
<col width="7%" />
<col width="6%" />
<col width="34%" />
<col width="17%" />
<col width="6%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="9">Data Type Information</th>
</tr>
<tr class="row-even"><th class="head">Data Type</th>
<th class="head">Size</th>
<th class="head">Align</th>
<th class="head">Bits</th>
<th class="head">Scale</th>
<th class="head">Fval</th>
<th class="head">Tname</th>
<th class="head">print name</th>
<th class="head">kind</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TY_WORD</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_DWORD</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg3</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_BINT</td>
<td>4</td>
<td>3</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Integer</td>
<td>integer*1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SINT</td>
<td>4</td>
<td>3</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Integer</td>
<td>integer*2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_INT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Integer</td>
<td>integer*4</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_INT8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Integer*8</td>
<td>integer*8</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_HALF</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Half</td>
<td>real</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_REAL</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Real</td>
<td>real*4</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DBLE</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Double Precision Real</td>
<td>real*8</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QUAD</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>real*16</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_HCMPLX</td>
<td>4</td>
<td>1</td>
<td>32</td>
<td>0</td>
<td>reg2</td>
<td>Half Complex</td>
<td>half complex</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_CMPLX</td>
<td>8</td>
<td>3</td>
<td>64</td>
<td>0</td>
<td>reg3</td>
<td>Complex</td>
<td>complex*8</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Double Precision Complex</td>
<td>complex*16</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QCMPLX</td>
<td>32</td>
<td>15</td>
<td>256</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>complex*32</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_BLOG</td>
<td>4</td>
<td>3</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Logical</td>
<td>logical*1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SLOG</td>
<td>4</td>
<td>3</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Logical</td>
<td>logical*2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_LOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Logical</td>
<td>logical*4</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_LOG8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Logical*8</td>
<td>logical*8</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_CHAR</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>mem2</td>
<td>Character</td>
<td>character</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_PTR</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Address of</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_NCHAR</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>mem2</td>
<td>Kanji Character String</td>
<td>ncharacter</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>The third table is for machine
<code class="docutils literal notranslate"><span class="pre">2</span></code>
which is a C90, word-addressible 8-byte integer/pointer machine.</p>
<p>The data types, their sizes, and alignment requirements for this compiler and
target machine are listed in the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="32%" />
<col width="21%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="9">Data Type Information</th>
</tr>
<tr class="row-even"><th class="head">Data Type</th>
<th class="head">Size</th>
<th class="head">Align</th>
<th class="head">Bits</th>
<th class="head">Scale</th>
<th class="head">Fval</th>
<th class="head">Tname</th>
<th class="head">print name</th>
<th class="head">kind</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TY_WORD</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_DWORD</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg3</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_BINT</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Byte Integer</td>
<td>integer</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_SINT</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Short Integer</td>
<td>integer</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_INT</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Integer</td>
<td>integer</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_INT8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Integer*8</td>
<td>integer</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_HALF</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Half</td>
<td>real</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_REAL</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Real</td>
<td>real</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_DBLE</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Double Precision Real</td>
<td>real</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QUAD</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>double precision</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_HCMPLX</td>
<td>4</td>
<td>1</td>
<td>32</td>
<td>0</td>
<td>reg2</td>
<td>Half Complex</td>
<td>half complex</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_CMPLX</td>
<td>16</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg3</td>
<td>Complex</td>
<td>complex</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_DCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Double Precision Complex</td>
<td>complex</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QCMPLX</td>
<td>32</td>
<td>15</td>
<td>256</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>double complex</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_BLOG</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Byte Logical</td>
<td>logical</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SLOG</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Short Logical</td>
<td>logical</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_LOG</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_LOG8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Logical*8</td>
<td>logical</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_CHAR</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>mem2</td>
<td>Character</td>
<td>character</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_PTR</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg0</td>
<td>Address of</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_NCHAR</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>mem2</td>
<td>Kanji Character String</td>
<td>ncharacter</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>The fourth table is for machine
<code class="docutils literal notranslate"><span class="pre">3</span></code>
which is a Fortran-90 target with integer(1), (2), (4), (8) integer kinds,
real(4), (8), and (16), complex(8), (16) and (32).</p>
<p>The data types, their sizes, and alignment requirements for this compiler and
target machine are listed in the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="32%" />
<col width="21%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="9">Data Type Information</th>
</tr>
<tr class="row-even"><th class="head">Data Type</th>
<th class="head">Size</th>
<th class="head">Align</th>
<th class="head">Bits</th>
<th class="head">Scale</th>
<th class="head">Fval</th>
<th class="head">Tname</th>
<th class="head">print name</th>
<th class="head">kind</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TY_WORD</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_DWORD</td>
<td>8</td>
<td>7</td>
<td>32</td>
<td>0</td>
<td>reg3</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_BINT</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Integer</td>
<td>integer(1)</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SINT</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Integer</td>
<td>integer(2)</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_INT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Integer</td>
<td>integer</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_INT8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Integer*8</td>
<td>integer(8)</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_HALF</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Half</td>
<td>real</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_REAL</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Real</td>
<td>real</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DBLE</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Double Precision Real</td>
<td>double precision</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QUAD</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>real(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_HCMPLX</td>
<td>4</td>
<td>1</td>
<td>32</td>
<td>0</td>
<td>reg2</td>
<td>Half Complex</td>
<td>half complex</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_CMPLX</td>
<td>8</td>
<td>3</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Complex</td>
<td>complex</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Double Precision Complex</td>
<td>complex(8)</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>complex(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_BLOG</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>reg0</td>
<td>Byte Logical</td>
<td>logical(1)</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_SLOG</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg0</td>
<td>Short Logical</td>
<td>logical(2)</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>TY_LOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_LOG8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Logical*8</td>
<td>logical(8)</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_CHAR</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>mem2</td>
<td>Character</td>
<td>character</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_PTR</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Address of</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_NCHAR</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>mem2</td>
<td>Kanji Character String</td>
<td>ncharacter</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>The fifth table is for machine
<code class="docutils literal notranslate"><span class="pre">4</span></code>
which is a Fortran-90 target which has the following data types:
logical(4) and (8),
integer(4) and (8),
real(4), (8) and (16),
and complex(4), (8) and (16),
and with 8-byte pointers, e.g. the NEC SX/4.</p>
<p>The data types, their sizes, and alignment requirements for this compiler and
target machine are listed in the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="7%" />
<col width="5%" />
<col width="32%" />
<col width="21%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="9">Data Type Information</th>
</tr>
<tr class="row-even"><th class="head">Data Type</th>
<th class="head">Size</th>
<th class="head">Align</th>
<th class="head">Bits</th>
<th class="head">Scale</th>
<th class="head">Fval</th>
<th class="head">Tname</th>
<th class="head">print name</th>
<th class="head">kind</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>TY_WORD</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TY_DWORD</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg3</td>
<td>Unsigned Integer</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_BINT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Byte Integer</td>
<td>integer</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_SINT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Short Integer</td>
<td>integer</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_INT</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Integer</td>
<td>integer</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_INT8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Integer*8</td>
<td>integer(8)</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_HALF</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Half</td>
<td>real</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_REAL</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg1</td>
<td>Floating Point Real</td>
<td>real</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DBLE</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Double Precision Real</td>
<td>double precision</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QUAD</td>
<td>16</td>
<td>15</td>
<td>128</td>
<td>0</td>
<td>reg2</td>
<td>Quad Precision Real</td>
<td>real(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_HCMPLX</td>
<td>4</td>
<td>1</td>
<td>32</td>
<td>0</td>
<td>reg2</td>
<td>Half Complex</td>
<td>half complex</td>
<td>2</td>
</tr>
<tr class="row-even"><td>TY_CMPLX</td>
<td>8</td>
<td>3</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Complex</td>
<td>complex</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_DCMPLX</td>
<td>16</td>
<td>7</td>
<td>128</td>
<td>0</td>
<td>reg3</td>
<td>Double Precision Complex</td>
<td>complex(8)</td>
<td>8</td>
</tr>
<tr class="row-even"><td>TY_QCMPLX</td>
<td>32</td>
<td>15</td>
<td>256</td>
<td>0</td>
<td>reg3</td>
<td>Quad Precision Complex</td>
<td>complex(16)</td>
<td>16</td>
</tr>
<tr class="row-odd"><td>TY_BLOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Byte Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_SLOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Short Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>TY_LOG</td>
<td>4</td>
<td>3</td>
<td>32</td>
<td>0</td>
<td>reg0</td>
<td>Logical</td>
<td>logical</td>
<td>4</td>
</tr>
<tr class="row-even"><td>TY_LOG8</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Logical*8</td>
<td>logical(8)</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>TY_CHAR</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>mem2</td>
<td>Character</td>
<td>character</td>
<td>1</td>
</tr>
<tr class="row-even"><td>TY_PTR</td>
<td>8</td>
<td>7</td>
<td>64</td>
<td>0</td>
<td>reg2</td>
<td>Address of</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>TY_NCHAR</td>
<td>2</td>
<td>1</td>
<td>16</td>
<td>0</td>
<td>mem2</td>
<td>Kanji Character String</td>
<td>ncharacter</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="target-machine-characteristics-utility-machar">
<h2>Target Machine Characteristics Utility (MACHAR)<a class="headerlink" href="#target-machine-characteristics-utility-machar" title="Permalink to this headline">¶</a></h2>
<p>MACHAR reads the nroff source for this appendix and extracts information to
build the C include files containing the macro definitions for the target
machine characteristics, actions, and data type information.
MACHAR also reads <em>symtab.h</em> for a specific compiler to determine what the
list of data types are.  If either of the input files change then MACHAR must
be rerun.</p>
<div class="section" id="inputs">
<h3>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h3>
<p>MACHAR reads two input files:</p>
<ol class="arabic">
<li><p class="first"><em>machar.n</em>
— Target machine characteristics file.  Defines the target machine
characteristics.  This file contains the nroff source for this appendix
so that this appendix as well as the C macro files can be generated
from the same source file.  It contains nroff macros and tbl commands that are
also recognized as directives to MACHAR.  The following kinds of directive lines
are used:</p>
<blockquote>
<div><ol class="loweralpha">
<li><p class="first">Define action name lines of the form:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.DN actionname
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">actionname</span></code></dt>
<dd><p class="first last">the name of the action to define such as <code class="docutils literal notranslate"><span class="pre">LSHIFT</span></code>.</p>
</dd>
</dl>
</li>
<li><p class="first">Define action lines of the form:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.DA &quot;action&quot;
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">action</span></code></dt>
<dd><p class="first last">the C macro code the compiler uses to perform the action given by actionname.
Action must be enclosed in double quotes.
One or more <code class="docutils literal notranslate"><span class="pre">.DA</span></code> lines must be specified for a macro
containing macro code.  The <code class="docutils literal notranslate"><span class="pre">.DA</span></code> line(s) are associated
with the most recently encountered actionname.  More than one
<code class="docutils literal notranslate"><span class="pre">.DA</span></code> line may be required to express very large macro
definitions.  C continuation characters are not required on multiple action
lines.</p>
</dd>
</dl>
</li>
<li><p class="first">Define characteristic lines:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%TM_char%description%present
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">TM_char</span></code></dt>
<dd><p class="first last">the target machine characteristic to define.  For example, <code class="docutils literal notranslate"><span class="pre">TM_UIDIV</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">description</span></code></dt>
<dd><p class="first last">a short description of what the characteristic is.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">present</span></code></dt>
<dd><p class="first last">a value of yes or no indicating whether this macro is defined for this
architecture.</p>
</dd>
</dl>
</li>
<li><p class="first">Define data type size and alignment lines:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%TY_type%size%align%bits%scale%fval%description
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">TY_type</span></code></dt>
<dd><p class="first last">the data type to be specified.  For example, <code class="docutils literal notranslate"><span class="pre">TY_DBLE</span></code>.
The possible values for type are listed above.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size</span></code></dt>
<dd><p class="first last">the number of bytes required for datatype.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">align</span></code></dt>
<dd><p class="first last">the number of bytes required to align datatype properly.
This value is added to the current byte address to ensure that
the desired data type starts on an address consistent with its alignment
requirements.  For example, byte integers’ value would be zero since
they need only start on byte boundaries.  Data types requiring alignment on
2-byte boundaries would use a value of one.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bits</span></code></dt>
<dd><p class="first last">the number of bits required for datatype.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale</span></code></dt>
<dd><p class="first last">the scaling factor allowed for datatype.
An architecture may allow an index (subscript)
to be scaled when involved in an effective address calculation.
This value indicates the scaling factor which can be applied to a
subscript instead of multiplying the subscript by the datatype’s
size.
This value is the number of bits the subscript is scaled (shifted left).
For example, a double could have a scaling factor of
3 (the subscript is shifted left 3 positions).
Note that a value of 0 implies either a byte datatype or that
the architecture does not allow scaling of subscripts.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fval</span></code></dt>
<dd><p class="first last">indicates how the value of a function of this type is returned and
also indicates the return group to which the function belongs (i.e.,
certain function return types are returned in the same register).
The possible values are ‘reg&lt;d&gt;’ (value is returned in a
register), ‘mem&lt;d&gt;’ (value is returned in a temporary and its address
is an implicit argument to the function), and ‘na’ (not applicable).
<code class="docutils literal notranslate"><span class="pre">&lt;d&gt;</span></code> is a digit (0, 1, 2, etc.) indicating the group.
These values are stored in the <code class="docutils literal notranslate"><span class="pre">dtypeinfo</span></code> array.
A value of -1 indicates ‘na’.
Otherwise, the value is divided
into two fields:  the rightmost 2 bits indicate ‘reg’ or ‘mem’ (0, 1,
respectively).  The remaining bits represent the group value (0, 1, etc.).</p>
</dd>
<dt>description</dt>
<dd><p class="first last">a textual description of the data type.</p>
</dd>
</dl>
</li>
<li><p class="first">Support for multiple types of machines; this is used for the pghpf translator,
for which the source files are identical, but the word sizes are different.
A line of the form</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.NM 5
</pre></div>
</div>
<p>is used to tell the utility to generate datatype initializations for five
machines.
A line of the form</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.MA number
</pre></div>
</div>
<p>before the TY_type table tells the utility that the following table is
for the given machine number, where number must be less than the number
given in the NM directive.</p>
</li>
</ol>
</div></blockquote>
<ol class="arabic simple">
<li><em>symtab.h</em>
— the output file produced by the SYMINI utility.  This file is scanned for
data type definitions, for example <code class="docutils literal notranslate"><span class="pre">TY_INT</span></code> to determine their
numeric value.  This is done to guarantee that the <code class="docutils literal notranslate"><span class="pre">dtypeinfo</span></code>
array is initialized in the correct order.</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="outputs">
<h3>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h3>
<p>MACHAR produces two output files.</p>
<ol class="arabic simple">
<li><em>machar.h</em>
— contains the C macro definitions for characteristics and actions.</li>
<li><em>machardf.h</em>
— contains the <code class="docutils literal notranslate"><span class="pre">dtypeinfo</span></code> array containing data type size
and alignment information.</li>
</ol>
</div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="../debugging_flang.html">Debugging flang</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../flang2/error.html">Error Reporting Utils</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>